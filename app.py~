# app.py for Change4Change
import flask
from flask import Flask, request, url_for, jsonify, render_template, send_from_directory

import json
import logging

###
# Globals
###
app = flask.Flask(__name__, static_url_path="")
app._static_folder = "static"

import CONFIG

import uuid
app.secret_key = str(uuid.uuid4())
app.debug = CONFIG.DEBUG
app.logger.setLevel(logging.DEBUG)
#############
####Pages####
#############

### Home Page ###

@app.route("/")
@app.route("/index")
def index():
    app.logger.debug("Main page entry")
    return flask.render_template('index.html')
    
    
@app.route("/mapFile")
def mapFile():
    return flask.send_static_file('map.html')    
    
if __name__ == "__main__":
    import uuid
    app.secret_key = str(uuid.uuid4())
    app.debug = CONFIG.DEBUG
    app.logger.setLevel(logging.DEBUG)
    app.run(port=CONFIG.PORT,threaded=True)



